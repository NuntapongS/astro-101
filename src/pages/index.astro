---
import ButtonNavigate from "../components/ButtonNavigate.astro";
import InputText from "../components/InputText.astro";
---

<main
  class="bg-gradient-to-r from-blue-600 to-blue-300 h-dvh bg-fixed flex justify-center items-center"
>
  <div
    class="bg-white w-[70rem] h-[32rem] p-10 rounded-lg shadow-lg flex justify-center items-center gap-5"
  >
    <img
      src="../../public/images/ODT_Logo.png"
      alt="ODT Logo"
      class="w-[30rem] h-[18rem]"
      data-testid="odds-image"
    />
    <div>
      <h2
        class="text-3xl font-bold text-center text-blue-600 mb-6"
        data-testid="login-title"
      >
        Welcome To ODDS| Conference
      </h2>
      <div class="mb-10">
        <InputText id="username" type="text" placeholder="Enter Username" />
        <InputText id="password" type="password" placeholder="Enter Password" />
      </div>
      <ButtonNavigate
        id="login-button"
        text="Login"
        data-testid="login-button"
        color="bg-blue-600"
      />
    </div>
  </div>
</main>

<script>
  const loginButton = document.getElementById("login-button");
  const usernameInput = document.getElementById("username") as HTMLInputElement;
  const passwordInput = document.getElementById("password") as HTMLInputElement;
  if (loginButton) {
    loginButton.addEventListener("click", function (event) {
      event.preventDefault();
      const username = usernameInput?.value.trim();
      const password = passwordInput?.value.trim();
      console.log({ username });

      console.log({ password });
      if (!username || !password) {
        alert("Please enter both username and password.");
        return;
      }
      window.location.href = "/welcome";
    });
  }
</script>
